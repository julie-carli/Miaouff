{% extends "base.html" %}

{% block title %}Gérer les Animaux{% endblock %}

{% block content %}
<h1 class="edit-animals-title">Gestion des Animaux</h1>

<form method="GET" action="{{ url_for('edit_animals') }}" class="search-form">
    <input type="text" name="search" value="{{ search_query }}" placeholder="Rechercher..." class="search-input">
    <button type="submit" class="search-btn">Rechercher</button>
</form>

<div class="edit-animals-container">
    {% for animal in animals %}
    <div class="edit-animals-item">
        <img src="{{ url_for('static', filename= animal.image) }}" alt="{{ animal.species }}" class="edit-animals-image">
        <div class="edit-animals-info">
            <h2 class="edit-animals-species">{{ animal.species }} - {{ animal.breed }}</h2>
            <p class="edit-animals-lifespan">Espérance de vie : {{ animal.lifespan }}</p>
            <p class="edit-animals-diet">Régime : {{ animal.diet }}</p>
            <p class="edit-animals-specifics">{{ animal.specifics }}</p>
        </div>
        <a href="{{ url_for('edit_animal', animal_id=animal.animal_id) }}" class="edit-animals-edit-btn">✏️</a>
        <form action="{{ url_for('delete_animal', animal_id=animal.animal_id) }}" method="POST" class="edit-animals-delete-form">
            <button type="submit" class="edit-animals-delete-btn">❌</button>
        </form>
    </div>
    {% endfor %}
</div> 

<h2 class="edit-animals-subtitle">Ajouter un animal</h2>
<form method="POST" action="{{ url_for('edit_animal') }}" class="edit-animals-form">
    <input type="text" name="species" placeholder="Espèce" required class="edit-animals-input">
    <input type="text" name="breed" placeholder="Race" required class="edit-animals-input">
    <input type="text" name="lifespan" placeholder="Espérance de vie" class="edit-animals-input">
    <input type="text" name="diet" placeholder="Régime alimentaire" class="edit-animals-input">
    <textarea name="specifics" placeholder="Détails" class="edit-animals-textarea"></textarea>
    <input type="text" name="image" placeholder="URL de l'image" class="edit-animals-input">
    <button type="submit" class="edit-animals-btn">Ajouter</button>
</form>
{% endblock %}