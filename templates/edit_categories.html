{% extends "base.html" %}
{% block title %}Gérer les Catégories{% endblock %}
{% block content %}

<h1 class="edit-products-title">Gestion des Catégories</h1>

<h2 class="edit-products-subtitle">Ajouter une catégorie</h2>
<div class="edit-category-add-form">
    <form method="POST" action="{{ url_for('add_category') }}" class="edit-products-form">
        <input type="text" name="name" placeholder="Nom de la catégorie" required class="edit-products-input">
        <button type="submit" class="edit-products-btn">Ajouter</button>
    </form>
</div>


<div class="edit-categories-grid">
    {% for category in categories %}
    <div class="category-card">
        {% if category.editing %}
        <form method="POST" action="{{ url_for('edit_category', category_id=category.category_id) }}" class="category-form">
            <input type="text" name="name" value="{{ category.name }}" class="edit-products-input" required>
            <div class="category-actions">
                <button type="submit" class="edit-products-btn">💾</button>
                <a href="{{ url_for('edit_categories') }}" class="edit-products-edit-btn">❌ Annuler</a>
            </div>
        </form>
        {% else %}
        <p class="edit-category-name">{{ category.name }}</p>
        <div class="category-actions">
            <a href="{{ url_for('edit_categories', edit=category.category_id) }}" class="edit-products-edit-btn">✏️</a>
            <form method="POST" action="{{ url_for('delete_category', category_id=category.category_id) }}">
                <button type="submit" class="edit-category-delete-btn">❌</button>
            </form>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</div>

{% endblock %}
